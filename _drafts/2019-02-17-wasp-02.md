---
layout:     post
title:      "The Wasp: Designing a Front Panel Computer with VHDL, Part 2"
date:       2019-02-17
excerpt:    ""
tags:       [electronics, VHDL, hardwae design, wasp]
feature:    /assets/wasp/MITS_Altair_8800_Front_Panel.jpg
published:  true
comments:   true
---
# DRAFT

### Prelude
Today I'll show you how I implement two functions for the *Wasp*. I'll implement the *Examine* and *Examine next* functions. *Examine* will simply read the data at the the address you toggled in and "light up" the data LEDs to represent said data. *Examine next* will do the same, but increment the current address first by one and then read the data. I'll also select a RAM chip, implement it in VHDL, and design a simple output module to display data and addresses with LEDs.

### Accessing the RAM
Since the *Wasp* is a ROMless design, accessing the RAM via the toggle switch interface must be rocksolid. But before I can access RAM, I need to choose a RAM chip that is practical.

Assuming an 8-bit processor as CPU in *Wasp*, it is safe to say that the *Wasp* will be able to address up to 64 KB at most. While there are some 8-bit processor like later [Z80 models][10] that have a 24-bit address bus, the vast majority of [8-bit processors] had a 16-bit address bus and could therefore address up to 64 KB of memory.

Since the *Wasp* will be a ROMless design and will lack any fancy interfaces to the outside, the memory for this system will be very simple.

[simple memory map]

Now the question is, how much RAM is necessary or enough for the *Wasp*? I could go for the full 64 KB. But that doesn't seem like a good idea for two reasons. One, since the  user will only be able to "toggle in" code by hand, it is safe to assume that no one would probably write and run programs of several kilobytes on the *Wasp*. Two, should I at a later point decide that I do want to add additional functionality or interfaces, I'd need to throw away the memory maps and parts of the glue logic.

So, I'm not going to use the full 64 KB. Then the decision comes down to another factor, availability. Online shops like [Mouser][11] or [Farnell][12] offer good (some would consider that debatable) search tools for filtering chips to certain specs. After some searching and checking, I settled for the [6116SA/LA][7]. It's a 2K x 8-bit SRAM chip that is available in multiple packages (DIP and SOIC) and carried by multiple shops for a reasonable price range.

### Conclusion


[1]: https://en.wikipedia.org/wiki/Altair_8800
[2]: https://en.wikipedia.org/wiki/VHDL
[3]: https://en.wikipedia.org/wiki/Hardware_description_language
[4]: http://www.ti.com/lit/ds/symlink/sn74ahc573.pdf
[5]: http://www.jhdl.org
[6]: http://www.myhdl.org
[7]: https://www.idt.com/document/dst/6116sala-data-sheet
[8]: https://en.wikipedia.org/wiki/MOS_Technology_6502
[9]: https://en.wikipedia.org/wiki/Motorola_6809
[10]: https://en.wikipedia.org/wiki/Zilog_Z80
[11]: https://www.mouser.com
[12]: https://www.farnell.com
[13]: https://lauri.xn--vsandi-pxa.com/hdl/ghdl.html
[14]: https://github.com/pjcuadra/ghdl_sample_project
